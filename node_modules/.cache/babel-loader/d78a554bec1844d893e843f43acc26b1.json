{"ast":null,"code":"/**\n * Dependency imports\n */\nimport { useRef, useEffect, useState } from 'react';\nimport { getType, mergeObjects } from 'noyb';\n/**\n * useAsync\n */\n\nexport default (function (generatorFunction, initialState) {\n  var state = useRef(initialState);\n  var argsRef = useRef([]);\n  var iterator = useRef();\n  var hasError = useRef(false);\n  var promiseResolve = useRef();\n  var promiseReject = useRef();\n  var nextValue = useRef();\n  var _useState = useState(),\n    nextResult = _useState[0],\n    setNextResult = _useState[1];\n  var iterate = function iterate() {\n    if (iterator.current === undefined) {\n      iterator.current = generatorFunction.apply(void 0, arguments);\n    }\n    var next = iterator.current.next(nextValue.current);\n    var checkForNextResult = function checkForNextResult() {\n      if (!next.done) {\n        setNextResult(next);\n      } else {\n        if (hasError.current !== false && promiseReject.current) {\n          promiseReject.current(hasError.current);\n        } else if (promiseResolve.current) {\n          promiseResolve.current(state.current);\n        }\n        iterator.current = undefined;\n      }\n    };\n    if (next.value instanceof Promise) {\n      next.value.then(function (resolvedValue) {\n        nextValue.current = resolvedValue;\n      })[\"catch\"](function (err) {\n        nextValue.current = err;\n        hasError.current = err;\n      })[\"finally\"](checkForNextResult);\n    } else {\n      if (getType(state.current) === 'object') {\n        var _next$value;\n        state.current = mergeObjects(state.current, (_next$value = next.value) != null ? _next$value : {});\n      } else {\n        state.current = next.value;\n      }\n      checkForNextResult();\n    }\n  };\n  var cancel = function cancel() {\n    if (iterator.current) iterator.current[\"return\"]();\n  };\n  var execute = function execute() {\n    cancel();\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    argsRef.current = args;\n    return new Promise(function (resolve, reject) {\n      promiseResolve.current = resolve;\n      promiseReject.current = reject;\n      iterate.apply(void 0, argsRef.current);\n    });\n  };\n  useEffect(function () {\n    if (nextResult) iterate.apply(void 0, argsRef.current);\n  }, [nextResult]);\n  return [state.current, execute, cancel];\n});","map":{"version":3,"names":["useRef","useEffect","useState","getType","mergeObjects","generatorFunction","initialState","state","argsRef","iterator","hasError","promiseResolve","promiseReject","nextValue","_useState","nextResult","setNextResult","iterate","current","undefined","apply","arguments","next","checkForNextResult","done","value","Promise","then","resolvedValue","err","_next$value","cancel","execute","_len","length","args","Array","_key","resolve","reject"],"sources":["/Users/lohith/Downloads/snarling_hidden_goose-react 2/node_modules/speedux/es/use-async.js"],"sourcesContent":["/**\n * Dependency imports\n */\nimport { useRef, useEffect, useState } from 'react';\nimport { getType, mergeObjects } from 'noyb';\n/**\n * useAsync\n */\n\nexport default (function (generatorFunction, initialState) {\n  var state = useRef(initialState);\n  var argsRef = useRef([]);\n  var iterator = useRef();\n  var hasError = useRef(false);\n  var promiseResolve = useRef();\n  var promiseReject = useRef();\n  var nextValue = useRef();\n\n  var _useState = useState(),\n      nextResult = _useState[0],\n      setNextResult = _useState[1];\n\n  var iterate = function iterate() {\n    if (iterator.current === undefined) {\n      iterator.current = generatorFunction.apply(void 0, arguments);\n    }\n\n    var next = iterator.current.next(nextValue.current);\n\n    var checkForNextResult = function checkForNextResult() {\n      if (!next.done) {\n        setNextResult(next);\n      } else {\n        if (hasError.current !== false && promiseReject.current) {\n          promiseReject.current(hasError.current);\n        } else if (promiseResolve.current) {\n          promiseResolve.current(state.current);\n        }\n\n        iterator.current = undefined;\n      }\n    };\n\n    if (next.value instanceof Promise) {\n      next.value.then(function (resolvedValue) {\n        nextValue.current = resolvedValue;\n      })[\"catch\"](function (err) {\n        nextValue.current = err;\n        hasError.current = err;\n      })[\"finally\"](checkForNextResult);\n    } else {\n      if (getType(state.current) === 'object') {\n        var _next$value;\n\n        state.current = mergeObjects(state.current, (_next$value = next.value) != null ? _next$value : {});\n      } else {\n        state.current = next.value;\n      }\n\n      checkForNextResult();\n    }\n  };\n\n  var cancel = function cancel() {\n    if (iterator.current) iterator.current[\"return\"]();\n  };\n\n  var execute = function execute() {\n    cancel();\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    argsRef.current = args;\n    return new Promise(function (resolve, reject) {\n      promiseResolve.current = resolve;\n      promiseReject.current = reject;\n      iterate.apply(void 0, argsRef.current);\n    });\n  };\n\n  useEffect(function () {\n    if (nextResult) iterate.apply(void 0, argsRef.current);\n  }, [nextResult]);\n  return [state.current, execute, cancel];\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}